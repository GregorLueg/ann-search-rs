## Standard indices benchmarks and parameter gridsearch

Below are all of the standard indices shown and their performance. These
are run via:

```bash
# Run with default parameters
cargo run --example gridsearch_<INDEX> --release -- --distance euclidean

# Override specific parameters
cargo run --example gridsearch_<INDEX> --release -- --distance cosine

# Available parameters with their defaults:
# --n-cells 150_000
# --dim 32
# --n-clusters 25
# --k 15
# --seed 42
# --distance cosine
# --data gaussian
```

If you wish to run all of them, you can just run:

```bash
bash ./examples/run_benchmarks.sh --standard
```

## Table of Contents

- [Annoy](#annoy)
- [BallTree]
- [HNSW](#hnsw)
- [LSH](#lsh)
- [IVF](#ivf)
- [NNDescent](#nndescent)

### Annoy

Approximate nearest neighbours Oh Yeah. A tree-based method for vector searches.
Fast index building and good query speed. The size of the index however 
increases quite drastically the increased number of trees. 

**Key parameters:**

- *Number of trees (nt)*: The number of trees to generate in the forest
- *Search budget (s)*: The search budget per tree. If set to auto it uses
  `k * n_trees * 20`; versions with a `10x` or `5x` (i.e., less) are also shown.

Self is queried with the default search budget.

<details>
<summary><b>Annoy - Euclidean (Gaussian)</b>:</summary>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.03     1_649.50     1_652.53       1.0000     0.000000        18.31
Exhaustive (self)                                          3.03    15_986.63    15_989.66       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
Annoy-nt5-s:auto (query)                                  74.68        91.88       166.56       0.6834    40.648110        33.67
Annoy-nt5-s:10x (query)                                   74.68        56.78       131.46       0.5240    40.565845        33.67
Annoy-nt5-s:5x (query)                                    74.68        37.23       111.91       0.3732    40.431273        33.67
Annoy-nt5 (self)                                          74.68       893.45       968.13       0.6838    40.084992        33.67
Annoy-nt10-s:auto (query)                                101.73       171.40       273.13       0.8810    40.727710        49.03
Annoy-nt10-s:10x (query)                                 101.73       106.78       208.51       0.7412    40.683223        49.03
Annoy-nt10-s:5x (query)                                  101.73        66.31       168.04       0.5626    40.594216        49.03
Annoy-nt10 (self)                                        101.73     1_693.22     1_794.95       0.8804    40.163717        49.03
Annoy-nt15-s:auto (query)                                147.05       240.76       387.81       0.9524    40.748981        49.65
Annoy-nt15-s:10x (query)                                 147.05       152.60       299.65       0.8546    40.723903        49.65
Annoy-nt15-s:5x (query)                                  147.05        95.32       242.37       0.6907    40.662767        49.65
Annoy-nt15 (self)                                        147.05     2_457.67     2_604.72       0.9516    40.184645        49.65
Annoy-nt25-s:auto (query)                                235.88       359.11       594.99       0.9908    40.758739        80.37
Annoy-nt25-s:10x (query)                                 235.88       227.98       463.86       0.9508    40.750722        80.37
Annoy-nt25-s:5x (query)                                  235.88       145.74       381.62       0.8410    40.720771        80.37
Annoy-nt25 (self)                                        235.88     3_557.84     3_793.72       0.9906    40.194411        80.37
Annoy-nt50-s:auto (query)                                443.24       596.36     1_039.61       0.9997    40.760798       142.43
Annoy-nt50-s:10x (query)                                 443.24       423.75       867.00       0.9957    40.760169       142.43
Annoy-nt50-s:5x (query)                                  443.24       295.07       738.31       0.9644    40.754108       142.43
Annoy-nt50 (self)                                        443.24     5_967.66     6_410.90       0.9997    40.196443       142.43
Annoy-nt75-s:auto (query)                                659.26       875.79     1_535.05       1.0000    40.760868       177.49
Annoy-nt75-s:10x (query)                                 659.26       627.17     1_286.43       0.9995    40.760801       177.49
Annoy-nt75-s:5x (query)                                  659.26       432.90     1_092.15       0.9912    40.759442       177.49
Annoy-nt75 (self)                                        659.26     8_815.59     9_474.84       1.0000    40.196503       177.49
Annoy-nt100-s:auto (query)                               878.96     1_105.10     1_984.06       1.0000    40.760873       266.55
Annoy-nt100-s:10x (query)                                878.96       797.44     1_676.40       0.9999    40.760864       266.55
Annoy-nt100-s:5x (query)                                 878.96       564.09     1_443.04       0.9975    40.760539       266.55
Annoy-nt100 (self)                                       878.96    11_044.74    11_923.70       1.0000    40.196506       266.55
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>Annoy - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         4.22     1_650.94     1_655.15       1.0000     0.000000        18.88
Exhaustive (self)                                          4.22    16_691.75    16_695.96       1.0000     0.000000        18.88
--------------------------------------------------------------------------------------------------------------------------------
Annoy-nt5-s:auto (query)                                  73.98        34.92       108.90       0.3536     0.004314        32.62
Annoy-nt5-s:10x (query)                                   73.98        33.51       107.49       0.3536     0.004314        32.62
Annoy-nt5-s:5x (query)                                    73.98        31.22       105.20       0.3432     0.004456        32.62
Annoy-nt5 (self)                                          73.98       318.67       392.65       0.3540     0.004254        32.62
Annoy-nt10-s:auto (query)                                 95.65        61.33       156.98       0.5411     0.002165        46.35
Annoy-nt10-s:10x (query)                                  95.65        61.80       157.44       0.5411     0.002165        46.35
Annoy-nt10-s:5x (query)                                   95.65        60.76       156.41       0.5329     0.002226        46.35
Annoy-nt10 (self)                                         95.65       605.64       701.29       0.5394     0.002140        46.35
Annoy-nt15-s:auto (query)                                147.52        88.86       236.38       0.6685     0.001280        46.96
Annoy-nt15-s:10x (query)                                 147.52        94.99       242.51       0.6685     0.001280        46.96
Annoy-nt15-s:5x (query)                                  147.52        94.55       242.07       0.6626     0.001312        46.96
Annoy-nt15 (self)                                        147.52       887.40     1_034.92       0.6668     0.001272        46.96
Annoy-nt25-s:auto (query)                                245.43       136.63       382.05       0.8222     0.000544        74.43
Annoy-nt25-s:10x (query)                                 245.43       134.93       380.36       0.8222     0.000544        74.43
Annoy-nt25-s:5x (query)                                  245.43       135.74       381.16       0.8195     0.000554        74.43
Annoy-nt25 (self)                                        245.43     1_336.93     1_582.36       0.8214     0.000537        74.43
Annoy-nt50-s:auto (query)                                433.92       261.86       695.77       0.9574     0.000095       129.99
Annoy-nt50-s:10x (query)                                 433.92       257.42       691.34       0.9574     0.000095       129.99
Annoy-nt50-s:5x (query)                                  433.92       263.10       697.01       0.9569     0.000096       129.99
Annoy-nt50 (self)                                        433.92     2_618.04     3_051.96       0.9573     0.000095       129.99
Annoy-nt75-s:auto (query)                                649.77       406.47     1_056.24       0.9886     0.000021       238.04
Annoy-nt75-s:10x (query)                                 649.77       406.86     1_056.63       0.9886     0.000021       238.04
Annoy-nt75-s:5x (query)                                  649.77       438.29     1_088.06       0.9885     0.000022       238.04
Annoy-nt75 (self)                                        649.77     4_135.31     4_785.08       0.9885     0.000022       238.04
Annoy-nt100-s:auto (query)                               862.94       500.68     1_363.62       0.9965     0.000006       241.09
Annoy-nt100-s:10x (query)                                862.94       495.77     1_358.71       0.9965     0.000006       241.09
Annoy-nt100-s:5x (query)                                 862.94       499.17     1_362.10       0.9965     0.000006       241.09
Annoy-nt100 (self)                                       862.94     4_979.74     5_842.68       0.9964     0.000006       241.09
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>Annoy - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.17     1_605.89     1_609.07       1.0000     0.000000        18.31
Exhaustive (self)                                          3.17    16_624.37    16_627.54       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
Annoy-nt5-s:auto (query)                                  71.91        84.33       156.24       0.9572     1.221981        33.42
Annoy-nt5-s:10x (query)                                   71.91        52.50       124.41       0.8678     1.213805        33.42
Annoy-nt5-s:5x (query)                                    71.91        33.74       105.65       0.7232     1.195021        33.42
Annoy-nt5 (self)                                          71.91       843.08       914.99       0.9579     1.168924        33.42
Annoy-nt10-s:auto (query)                                 94.87       148.44       243.31       0.9958     1.224682        48.53
Annoy-nt10-s:10x (query)                                  94.87        95.83       190.70       0.9700     1.223103        48.53
Annoy-nt10-s:5x (query)                                   94.87        60.50       155.38       0.8936     1.216710        48.53
Annoy-nt10 (self)                                         94.87     1_480.67     1_575.54       0.9957     1.171546        48.53
Annoy-nt15-s:auto (query)                                151.80       207.23       359.03       0.9994     1.224869        49.14
Annoy-nt15-s:10x (query)                                 151.80       127.93       279.73       0.9918     1.224496        49.14
Annoy-nt15-s:5x (query)                                  151.80        81.14       232.94       0.9543     1.222033        49.14
Annoy-nt15 (self)                                        151.80     2_031.56     2_183.36       0.9994     1.171736        49.14
Annoy-nt25-s:auto (query)                                237.55       283.22       520.77       1.0000     1.224900        79.37
Annoy-nt25-s:10x (query)                                 237.55       188.44       425.98       0.9992     1.224866        79.37
Annoy-nt25-s:5x (query)                                  237.55       133.05       370.60       0.9894     1.224366        79.37
Annoy-nt25 (self)                                        237.55     2_812.50     3_050.05       1.0000     1.171760        79.37
Annoy-nt50-s:auto (query)                                438.69       517.46       956.15       1.0000     1.224901       140.42
Annoy-nt50-s:10x (query)                                 438.69       348.22       786.91       1.0000     1.224900       140.42
Annoy-nt50-s:5x (query)                                  438.69       236.40       675.09       0.9995     1.224881       140.42
Annoy-nt50 (self)                                        438.69     5_157.22     5_595.91       1.0000     1.171761       140.42
Annoy-nt75-s:auto (query)                                658.85       737.71     1_396.56       1.0000     1.224901       259.47
Annoy-nt75-s:10x (query)                                 658.85       521.85     1_180.70       1.0000     1.224901       259.47
Annoy-nt75-s:5x (query)                                  658.85       352.09     1_010.94       1.0000     1.224900       259.47
Annoy-nt75 (self)                                        658.85     7_357.76     8_016.61       1.0000     1.171761       259.47
Annoy-nt100-s:auto (query)                               869.94       951.49     1_821.43       1.0000     1.224901       262.51
Annoy-nt100-s:10x (query)                                869.94       653.93     1_523.87       1.0000     1.224901       262.51
Annoy-nt100-s:5x (query)                                 869.94       461.14     1_331.08       1.0000     1.224900       262.51
Annoy-nt100 (self)                                       869.94     9_496.44    10_366.38       1.0000     1.171761       262.51
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>Annoy - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.16     1_617.08     1_620.24       1.0000     0.000000        18.31
Exhaustive (self)                                          3.16    17_288.40    17_291.56       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
Annoy-nt5-s:auto (query)                                  72.94        82.66       155.60       0.9652     6.749119        32.42
Annoy-nt5-s:10x (query)                                   72.94        55.62       128.56       0.8999     6.734509        32.42
Annoy-nt5-s:5x (query)                                    72.94        38.05       110.99       0.7634     6.691552        32.42
Annoy-nt5 (self)                                          72.94       782.46       855.40       0.9642     6.682057        32.42
Annoy-nt10-s:auto (query)                                105.11       133.66       238.77       0.9976     6.754753        46.53
Annoy-nt10-s:10x (query)                                 105.11        93.51       198.62       0.9828     6.752511        46.53
Annoy-nt10-s:5x (query)                                  105.11        60.22       165.33       0.9212     6.740276        46.53
Annoy-nt10 (self)                                        105.11     1_333.60     1_438.71       0.9976     6.687908        46.53
Annoy-nt15-s:auto (query)                                154.27       183.52       337.79       0.9998     6.755016        47.14
Annoy-nt15-s:10x (query)                                 154.27       129.24       283.50       0.9963     6.754601        47.14
Annoy-nt15-s:5x (query)                                  154.27        83.17       237.44       0.9701     6.750474        47.14
Annoy-nt15 (self)                                        154.27     1_834.15     1_988.42       0.9998     6.688173        47.14
Annoy-nt25-s:auto (query)                                231.25       257.72       488.97       1.0000     6.755036        75.37
Annoy-nt25-s:10x (query)                                 231.25       186.34       417.58       0.9997     6.755011        75.37
Annoy-nt25-s:5x (query)                                  231.25       126.00       357.25       0.9946     6.754407        75.37
Annoy-nt25 (self)                                        231.25     2_550.36     2_781.61       1.0000     6.688195        75.37
Annoy-nt50-s:auto (query)                                446.31       464.56       910.88       1.0000     6.755037       132.42
Annoy-nt50-s:10x (query)                                 446.31       332.62       778.94       1.0000     6.755037       132.42
Annoy-nt50-s:5x (query)                                  446.31       231.11       677.42       0.9999     6.755027       132.42
Annoy-nt50 (self)                                        446.31     4_633.42     5_079.74       1.0000     6.688195       132.42
Annoy-nt75-s:auto (query)                                653.03       677.96     1_330.99       1.0000     6.755037       243.47
Annoy-nt75-s:10x (query)                                 653.03       504.66     1_157.69       1.0000     6.755037       243.47
Annoy-nt75-s:5x (query)                                  653.03       348.11     1_001.14       1.0000     6.755036       243.47
Annoy-nt75 (self)                                        653.03     6_758.02     7_411.04       1.0000     6.688195       243.47
Annoy-nt100-s:auto (query)                               869.45       850.25     1_719.70       1.0000     6.755037       246.52
Annoy-nt100-s:10x (query)                                869.45       626.79     1_496.24       1.0000     6.755037       246.52
Annoy-nt100-s:5x (query)                                 869.45       436.39     1_305.84       1.0000     6.755037       246.52
Annoy-nt100 (self)                                       869.45     8_476.23     9_345.68       1.0000     6.688195       246.52
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

### BallTree

A metric tree data structure that partitions data points into nested 
hyperspheres. Unlike Annoy, which relies on random projections, BallTree uses 
the triangle inequality to prune the search space efficiently. This means 
instead of a forest it can just use a single tree.

**Key parameters:**

* *Search budget (s)*: The percentage of the total nodes/points to inspect 
  during the query. If not provided, it will default to `5%`.

Self is queried with the default search budget.

<details>
<summary><b>BallTree - Euclidean (Gaussian)</b>:</summary>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.76     1_491.39     1_495.14       1.0000     0.000000        18.88
Exhaustive (self)                                          3.76    14_917.99    14_921.75       1.0000     0.000000        18.88
BallTree-s:1% (query)                                    246.70        79.48       326.18       0.5582     0.001987        21.57
BallTree-s:2% (query)                                    246.70       142.11       388.81       0.7901     0.000716        21.57
BallTree-s:5% (query)                                    246.70       267.14       513.84       0.9913     0.000019        21.57
BallTree-s:10% (query)                                   246.70       294.77       541.47       1.0000     0.000000        21.57
BallTree-s:15% (query)                                   246.70       304.53       551.23       1.0000     0.000000        21.57
BallTree-s:20% (query)                                   246.70       294.75       541.45       1.0000     0.000000        21.57
BallTree (self)                                          246.70     2_717.27     2_963.97       0.9912     0.000020        21.57
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>BallTree - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.26     1_822.81     1_826.06       1.0000     0.000000        18.31
Exhaustive (self)                                          3.26    17_593.24    17_596.49       1.0000     0.000000        18.31
BallTree-s:1% (query)                                    476.78        73.47       550.25       0.5431     2.805418        20.62
BallTree-s:2% (query)                                    476.78       135.91       612.69       0.7832     0.993921        20.62
BallTree-s:5% (query)                                    476.78       266.22       743.00       0.9907     0.024112        20.62
BallTree-s:10% (query)                                   476.78       290.75       767.53       1.0000     0.000076        20.62
BallTree-s:15% (query)                                   476.78       268.53       745.31       1.0000     0.000076        20.62
BallTree-s:20% (query)                                   476.78       275.39       752.17       1.0000     0.000076        20.62
BallTree (self)                                          476.78     2_514.01     2_990.79       0.9907     0.024480        20.62
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>BallTree - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.80     1_707.46     1_711.26       1.0000     0.000000        18.31
Exhaustive (self)                                          3.80    17_935.88    17_939.68       1.0000     0.000000        18.31
BallTree-s:1% (query)                                    405.28        73.54       478.83       0.8461     0.064193        21.47
BallTree-s:2% (query)                                    405.28       121.49       526.78       0.9632     0.011965        21.47
BallTree-s:5% (query)                                    405.28       179.01       584.29       0.9995     0.000178        21.47
BallTree-s:10% (query)                                   405.28       179.96       585.24       0.9995     0.000172        21.47
BallTree-s:15% (query)                                   405.28       190.64       595.92       0.9995     0.000172        21.47
BallTree-s:20% (query)                                   405.28       186.80       592.09       0.9995     0.000172        21.47
BallTree (self)                                          405.28     1_862.19     2_267.48       0.9995     0.000242        21.47
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>BallTree - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.28     1_776.07     1_779.35       1.0000     0.000000        18.31
Exhaustive (self)                                          3.28    17_705.01    17_708.29       1.0000     0.000000        18.31
BallTree-s:1% (query)                                    332.47        74.24       406.72       0.8804     0.187397        21.47
BallTree-s:2% (query)                                    332.47       117.49       449.97       0.9851     0.016786        21.47
BallTree-s:5% (query)                                    332.47       147.14       479.62       0.9992     0.001350        21.47
BallTree-s:10% (query)                                   332.47       166.02       498.49       0.9992     0.001350        21.47
BallTree-s:15% (query)                                   332.47       172.63       505.10       0.9992     0.001350        21.47
BallTree-s:20% (query)                                   332.47       159.69       492.17       0.9992     0.001350        21.47
BallTree (self)                                          332.47     1_472.66     1_805.13       0.9992     0.001176        21.47
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

### HNSW

Hierarchical navigatable small worlds. A graph-based index that needs more time
to build the index. However, fast query speed and compared to some other
approximate indices limited memory finger print.

**Key parameters:**

- *M (m)*: The number of connections between layers
- *EF construction (ef)*: The budget to generate good connections during 
  construction of the index.
- *EF search (s)*: The budget for the search queries. 

Self is queried with `s=100`.

<details>
<summary><b>HNSW - Euclidean (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.27     1_480.57     1_483.84       1.0000     0.000000        18.31
Exhaustive (self)                                          3.27    15_884.88    15_888.15       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
HNSW-M16-ef50-s50 (query)                              1_618.75        88.91     1_707.66       0.9602     0.358108        51.60
HNSW-M16-ef50-s75 (query)                              1_618.75       113.95     1_732.70       0.9784     0.278732        51.60
HNSW-M16-ef50-s100 (query)                             1_618.75       149.23     1_767.98       0.9863     0.247625        51.60
HNSW-M16-ef50 (self)                                   1_618.75     1_462.81     3_081.56       0.9867     0.218916        51.60
HNSW-M16-ef100-s50 (query)                             2_614.87        88.25     2_703.12       0.9842     0.151261        51.60
HNSW-M16-ef100-s75 (query)                             2_614.87       126.32     2_741.20       0.9909     0.125432        51.60
HNSW-M16-ef100-s100 (query)                            2_614.87       159.58     2_774.46       0.9945     0.109142        51.60
HNSW-M16-ef100 (self)                                  2_614.87     1_593.67     4_208.55       0.9944     0.233829        51.60
HNSW-M16-ef200-s50 (query)                             3_409.96        92.81     3_502.77       0.9935     0.695922        51.60
HNSW-M16-ef200-s75 (query)                             3_409.96       120.30     3_530.26       0.9961     0.684992        51.60
HNSW-M16-ef200-s100 (query)                            3_409.96       154.19     3_564.16       0.9970     0.680834        51.60
HNSW-M16-ef200 (self)                                  3_409.96     1_547.52     4_957.48       0.9968     0.768249        51.60
HNSW-M24-ef100-s50 (query)                             5_130.27       114.09     5_244.36       0.9919     0.804775        51.60
HNSW-M24-ef100-s75 (query)                             5_130.27       139.43     5_269.70       0.9951     0.790591        51.60
HNSW-M24-ef100-s100 (query)                            5_130.27       176.44     5_306.71       0.9965     0.782473        51.60
HNSW-M24-ef100 (self)                                  5_130.27     1_744.91     6_875.18       0.9967     0.595199        51.60
HNSW-M24-ef200-s50 (query)                             5_694.05       107.60     5_801.65       0.9966     0.830334        51.60
HNSW-M24-ef200-s75 (query)                             5_694.05       145.66     5_839.71       0.9975     0.826328        51.60
HNSW-M24-ef200-s100 (query)                            5_694.05       188.64     5_882.69       0.9978     0.824261        51.60
HNSW-M24-ef200 (self)                                  5_694.05     1_760.52     7_454.57       0.9982     0.591378        51.60
HNSW-M24-ef300-s50 (query)                             6_652.52       107.61     6_760.13       0.9983     0.449503        51.60
HNSW-M24-ef300-s75 (query)                             6_652.52       144.32     6_796.84       0.9989     0.446544        51.60
HNSW-M24-ef300-s100 (query)                            6_652.52       179.86     6_832.39       0.9991     0.445475        51.60
HNSW-M24-ef300 (self)                                  6_652.52     1_797.06     8_449.59       0.9992     0.530081        51.60
HNSW-M32-ef200-s50 (query)                             8_930.31       122.07     9_052.38       0.9983     0.450913        83.60
HNSW-M32-ef200-s75 (query)                             8_930.31       162.16     9_092.47       0.9991     0.244143        83.60
HNSW-M32-ef200-s100 (query)                            8_930.31       204.87     9_135.17       0.9994     0.165035        83.60
HNSW-M32-ef200 (self)                                  8_930.31     2_004.43    10_934.73       0.9993     0.219337        83.60
HNSW-M32-ef300-s50 (query)                             9_723.17       125.37     9_848.54       0.9975     1.297274        83.60
HNSW-M32-ef300-s75 (query)                             9_723.17       163.45     9_886.63       0.9987     0.826935        83.60
HNSW-M32-ef300-s100 (query)                            9_723.17       199.65     9_922.82       0.9991     0.582153        83.60
HNSW-M32-ef300 (self)                                  9_723.17     1_992.50    11_715.67       0.9991     0.563975        83.60
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>HNSW - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         4.28     1_578.39     1_582.67       1.0000     0.000000        18.88
Exhaustive (self)                                          4.28    16_568.77    16_573.05       1.0000     0.000000        18.88
--------------------------------------------------------------------------------------------------------------------------------
HNSW-M16-ef50-s50 (query)                              1_784.58        91.64     1_876.22       0.9607     0.001233        52.17
HNSW-M16-ef50-s75 (query)                              1_784.58       130.95     1_915.53       0.9783     0.001018        52.17
HNSW-M16-ef50-s100 (query)                             1_784.58       165.29     1_949.87       0.9860     0.000857        52.17
HNSW-M16-ef50 (self)                                   1_784.58     1_549.25     3_333.84       0.9866     0.000647        52.17
HNSW-M16-ef100-s50 (query)                             2_806.59        92.46     2_899.05       0.9835     0.000502        52.17
HNSW-M16-ef100-s75 (query)                             2_806.59       128.51     2_935.10       0.9907     0.000333        52.17
HNSW-M16-ef100-s100 (query)                            2_806.59       162.31     2_968.89       0.9940     0.000294        52.17
HNSW-M16-ef100 (self)                                  2_806.59     1_574.59     4_381.18       0.9943     0.000243        52.17
HNSW-M16-ef200-s50 (query)                             3_687.51        93.42     3_780.94       0.9926     0.001394        52.17
HNSW-M16-ef200-s75 (query)                             3_687.51       127.38     3_814.90       0.9950     0.001384        52.17
HNSW-M16-ef200-s100 (query)                            3_687.51       169.67     3_857.19       0.9958     0.001382        52.17
HNSW-M16-ef200 (self)                                  3_687.51     1_612.18     5_299.70       0.9965     0.001020        52.17
HNSW-M24-ef100-s50 (query)                             5_543.25       112.27     5_655.52       0.9917     0.000442        52.17
HNSW-M24-ef100-s75 (query)                             5_543.25       143.57     5_686.82       0.9947     0.000433        52.17
HNSW-M24-ef100-s100 (query)                            5_543.25       180.67     5_723.92       0.9961     0.000428        52.17
HNSW-M24-ef100 (self)                                  5_543.25     1_790.06     7_333.31       0.9969     0.000360        52.17
HNSW-M24-ef200-s50 (query)                             6_134.38       108.94     6_243.31       0.9975     0.000358        52.17
HNSW-M24-ef200-s75 (query)                             6_134.38       152.70     6_287.08       0.9985     0.000355        52.17
HNSW-M24-ef200-s100 (query)                            6_134.38       182.68     6_317.06       0.9987     0.000354        52.17
HNSW-M24-ef200 (self)                                  6_134.38     1_853.85     7_988.23       0.9986     0.000435        52.17
HNSW-M24-ef300-s50 (query)                             6_909.69       115.16     7_024.84       0.9982     0.000639        52.17
HNSW-M24-ef300-s75 (query)                             6_909.69       156.50     7_066.18       0.9987     0.000638        52.17
HNSW-M24-ef300-s100 (query)                            6_909.69       205.97     7_115.66       0.9988     0.000637        52.17
HNSW-M24-ef300 (self)                                  6_909.69     1_948.65     8_858.34       0.9987     0.000666        52.17
HNSW-M32-ef200-s50 (query)                             9_519.01       127.44     9_646.45       0.9950     0.002348        84.17
HNSW-M32-ef200-s75 (query)                             9_519.01       166.18     9_685.19       0.9954     0.002341        84.17
HNSW-M32-ef200-s100 (query)                            9_519.01       203.23     9_722.24       0.9955     0.002339        84.17
HNSW-M32-ef200 (self)                                  9_519.01     2_028.26    11_547.27       0.9958     0.002145        84.17
HNSW-M32-ef300-s50 (query)                            10_332.54       126.94    10_459.47       0.9985     0.000625        84.17
HNSW-M32-ef300-s75 (query)                            10_332.54       167.07    10_499.61       0.9987     0.000624        84.17
HNSW-M32-ef300-s100 (query)                           10_332.54       204.51    10_537.05       0.9988     0.000624        84.17
HNSW-M32-ef300 (self)                                 10_332.54     2_042.02    12_374.56       0.9988     0.000615        84.17
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>HNSW - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.01     1_552.93     1_555.95       1.0000     0.000000        18.31
Exhaustive (self)                                          3.01    16_276.44    16_279.45       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
HNSW-M16-ef50-s50 (query)                              1_281.47        65.54     1_347.01       0.9987     0.000456        51.60
HNSW-M16-ef50-s75 (query)                              1_281.47        91.41     1_372.88       0.9995     0.000247        51.60
HNSW-M16-ef50-s100 (query)                             1_281.47       116.79     1_398.26       0.9998     0.000135        51.60
HNSW-M16-ef50 (self)                                   1_281.47     1_143.47     2_424.94       0.9997     0.037515        51.60
HNSW-M16-ef100-s50 (query)                             2_099.04        73.34     2_172.38       0.9996     0.000154        51.60
HNSW-M16-ef100-s75 (query)                             2_099.04        92.18     2_191.22       0.9998     0.000097        51.60
HNSW-M16-ef100-s100 (query)                            2_099.04       117.32     2_216.37       0.9999     0.000073        51.60
HNSW-M16-ef100 (self)                                  2_099.04     1_153.37     3_252.41       0.9999     0.044026        51.60
HNSW-M16-ef200-s50 (query)                             2_689.82        69.12     2_758.94       0.9999     0.000019        51.60
HNSW-M16-ef200-s75 (query)                             2_689.82        93.16     2_782.98       1.0000     0.000015        51.60
HNSW-M16-ef200-s100 (query)                            2_689.82       118.51     2_808.33       1.0000     0.000014        51.60
HNSW-M16-ef200 (self)                                  2_689.82     1_185.60     3_875.41       0.9999     0.043274        51.60
HNSW-M24-ef100-s50 (query)                             3_904.48        80.09     3_984.56       0.9994     0.538345        51.60
HNSW-M24-ef100-s75 (query)                             3_904.48       107.46     4_011.93       0.9995     0.538249        51.60
HNSW-M24-ef100-s100 (query)                            3_904.48       136.89     4_041.37       0.9995     0.538239        51.60
HNSW-M24-ef100 (self)                                  3_904.48     1_330.86     5_235.33       0.9994     0.680339        51.60
HNSW-M24-ef200-s50 (query)                             4_492.62        79.40     4_572.02       0.9980     3.033033        51.60
HNSW-M24-ef200-s75 (query)                             4_492.62       110.93     4_603.55       0.9980     3.033027        51.60
HNSW-M24-ef200-s100 (query)                            4_492.62       134.58     4_627.20       0.9980     3.033027        51.60
HNSW-M24-ef200 (self)                                  4_492.62     1_331.65     5_824.26       0.9979     3.176969        51.60
HNSW-M24-ef300-s50 (query)                             5_072.39        81.17     5_153.55       0.9995     0.641052        51.60
HNSW-M24-ef300-s75 (query)                             5_072.39       113.60     5_185.98       0.9995     0.641031        51.60
HNSW-M24-ef300-s100 (query)                            5_072.39       135.52     5_207.90       0.9995     0.641031        51.60
HNSW-M24-ef300 (self)                                  5_072.39     1_347.39     6_419.77       0.9994     0.781302        51.60
HNSW-M32-ef200-s50 (query)                             6_879.88        98.95     6_978.83       1.0000     0.000002        83.60
HNSW-M32-ef200-s75 (query)                             6_879.88       122.09     7_001.97       1.0000     0.000002        83.60
HNSW-M32-ef200-s100 (query)                            6_879.88       151.92     7_031.80       1.0000     0.000002        83.60
HNSW-M32-ef200 (self)                                  6_879.88     1_502.81     8_382.69       1.0000     0.000040        83.60
HNSW-M32-ef300-s50 (query)                             7_486.89       100.47     7_587.37       1.0000     0.000066        83.60
HNSW-M32-ef300-s75 (query)                             7_486.89       131.24     7_618.13       1.0000     0.000066        83.60
HNSW-M32-ef300-s100 (query)                            7_486.89       163.34     7_650.23       1.0000     0.000066        83.60
HNSW-M32-ef300 (self)                                  7_486.89     1_593.23     9_080.12       1.0000     0.000028        83.60
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>HNSW - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.17     1_556.68     1_559.85       1.0000     0.000000        18.31
Exhaustive (self)                                          3.17    16_191.14    16_194.30       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
HNSW-M16-ef50-s50 (query)                              1_227.58        67.85     1_295.43       0.9985     0.010344        51.60
HNSW-M16-ef50-s75 (query)                              1_227.58        92.34     1_319.92       0.9990     0.009504        51.60
HNSW-M16-ef50-s100 (query)                             1_227.58       116.70     1_344.28       0.9991     0.009379        51.60
HNSW-M16-ef50 (self)                                   1_227.58     1_160.91     2_388.49       0.9990     0.011004        51.60
HNSW-M16-ef100-s50 (query)                             2_061.40        63.89     2_125.30       0.9964    24.392722        51.60
HNSW-M16-ef100-s75 (query)                             2_061.40        89.74     2_151.15       0.9965    24.392553        51.60
HNSW-M16-ef100-s100 (query)                            2_061.40       114.53     2_175.93       0.9965    24.392483        51.60
HNSW-M16-ef100 (self)                                  2_061.40     1_114.20     3_175.60       0.9959    28.692847        51.60
HNSW-M16-ef200-s50 (query)                             2_616.52        64.62     2_681.14       1.0000     0.000270        51.60
HNSW-M16-ef200-s75 (query)                             2_616.52        88.55     2_705.07       1.0000     0.000147        51.60
HNSW-M16-ef200-s100 (query)                            2_616.52       113.11     2_729.64       1.0000     0.000147        51.60
HNSW-M16-ef200 (self)                                  2_616.52     1_106.78     3_723.30       1.0000     0.268454        51.60
HNSW-M24-ef100-s50 (query)                             3_751.58        77.61     3_829.19       0.9964    42.892182        51.60
HNSW-M24-ef100-s75 (query)                             3_751.58       104.95     3_856.52       0.9965    42.891414        51.60
HNSW-M24-ef100-s100 (query)                            3_751.58       128.37     3_879.95       0.9965    42.891401        51.60
HNSW-M24-ef100 (self)                                  3_751.58     1_373.66     5_125.24       0.9969    37.870685        51.60
HNSW-M24-ef200-s50 (query)                             4_298.62        78.58     4_377.20       1.0000     0.000178        51.60
HNSW-M24-ef200-s75 (query)                             4_298.62       103.29     4_401.91       1.0000     0.000178        51.60
HNSW-M24-ef200-s100 (query)                            4_298.62       128.53     4_427.15       1.0000     0.000178        51.60
HNSW-M24-ef200 (self)                                  4_298.62     1_286.69     5_585.31       1.0000     0.000187        51.60
HNSW-M24-ef300-s50 (query)                             4_848.11        80.37     4_928.48       0.9999     0.762946        51.60
HNSW-M24-ef300-s75 (query)                             4_848.11       104.55     4_952.66       0.9999     0.762849        51.60
HNSW-M24-ef300-s100 (query)                            4_848.11       130.67     4_978.79       0.9999     0.762849        51.60
HNSW-M24-ef300 (self)                                  4_848.11     1_295.09     6_143.20       1.0000     0.076220        51.60
HNSW-M32-ef200-s50 (query)                             6_655.26       103.50     6_758.76       1.0000     0.000003        83.60
HNSW-M32-ef200-s75 (query)                             6_655.26       137.17     6_792.44       1.0000     0.000000        83.60
HNSW-M32-ef200-s100 (query)                            6_655.26       157.23     6_812.50       1.0000     0.000000        83.60
HNSW-M32-ef200 (self)                                  6_655.26     1_608.55     8_263.81       1.0000     0.000149        83.60
HNSW-M32-ef300-s50 (query)                             7_259.97        96.63     7_356.61       1.0000     0.000002        83.60
HNSW-M32-ef300-s75 (query)                             7_259.97       127.29     7_387.26       1.0000     0.000002        83.60
HNSW-M32-ef300-s100 (query)                            7_259.97       156.76     7_416.73       1.0000     0.000002        83.60
HNSW-M32-ef300 (self)                                  7_259.97     1_565.08     8_825.05       1.0000     0.000038        83.60
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

### IVF

Inverted file index. Uses Voronoi cells to sub-partition the original data.
Very small index size in memory.

**Key parameters:**

- *Number of lists (nl)*: The number of independent k-means cluster to generate.
  If the structure of the data is unknown, people use `sqrt(n)` as a heuristic.
- *Number of points (np)*: The number of clusters to probe during search. 
  Numbers here tend to be `sqrt(nlist)` or up to 5% of the nlist.

Self query was done with `2 * sqrt(nlist)`.

<details>
<summary><b>IVF - Euclidean (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.23     1_613.96     1_617.19       1.0000     0.000000        18.31
Exhaustive (self)                                          3.23    16_900.40    16_903.63       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
IVF-nl273-np13 (query)                                   921.93       243.82     1_165.75       0.9889     0.034506        19.49
IVF-nl273-np16 (query)                                   921.93       296.44     1_218.38       0.9967     0.006513        19.49
IVF-nl273-np23 (query)                                   921.93       404.45     1_326.39       1.0000     0.000000        19.49
IVF-nl273 (self)                                         921.93     4_087.58     5_009.51       1.0000     0.000000        19.49
IVF-nl387-np19 (query)                                 1_266.89       258.95     1_525.84       0.9926     0.031028        19.51
IVF-nl387-np27 (query)                                 1_266.89       337.76     1_604.65       0.9998     0.000647        19.51
IVF-nl387 (self)                                       1_266.89     3_389.11     4_656.00       0.9998     0.000678        19.51
IVF-nl547-np23 (query)                                 1_795.63       218.33     2_013.96       0.9882     0.041944        19.53
IVF-nl547-np27 (query)                                 1_795.63       249.54     2_045.17       0.9958     0.014725        19.53
IVF-nl547-np33 (query)                                 1_795.63       299.05     2_094.69       0.9997     0.001035        19.53
IVF-nl547 (self)                                       1_795.63     2_975.70     4_771.34       0.9997     0.001003        19.53
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>IVF - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         4.27     1_580.06     1_584.33       1.0000     0.000000        18.88
Exhaustive (self)                                          4.27    16_916.18    16_920.45       1.0000     0.000000        18.88
--------------------------------------------------------------------------------------------------------------------------------
IVF-nl273-np13 (query)                                   907.16       287.27     1_194.43       0.9894     0.000025        20.06
IVF-nl273-np16 (query)                                   907.16       336.58     1_243.74       0.9970     0.000005        20.06
IVF-nl273-np23 (query)                                   907.16       467.78     1_374.93       1.0000     0.000000        20.06
IVF-nl273 (self)                                         907.16     4_673.29     5_580.44       1.0000     0.000000        20.06
IVF-nl387-np19 (query)                                 1_222.63       277.07     1_499.70       0.9930     0.000019        20.08
IVF-nl387-np27 (query)                                 1_222.63       395.47     1_618.10       0.9998     0.000000        20.08
IVF-nl387 (self)                                       1_222.63     3_802.20     5_024.83       0.9998     0.000000        20.08
IVF-nl547-np23 (query)                                 1_667.07       239.41     1_906.48       0.9890     0.000026        20.10
IVF-nl547-np27 (query)                                 1_667.07       274.59     1_941.65       0.9962     0.000008        20.10
IVF-nl547-np33 (query)                                 1_667.07       330.00     1_997.06       0.9998     0.000001        20.10
IVF-nl547 (self)                                       1_667.07     3_285.82     4_952.89       0.9997     0.000001        20.10
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>IVF - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.01     1_619.42     1_622.43       1.0000     0.000000        18.31
Exhaustive (self)                                          3.01    16_823.61    16_826.62       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
IVF-nl273-np13 (query)                                   910.62       230.53     1_141.15       0.9998     0.000027        19.49
IVF-nl273-np16 (query)                                   910.62       285.35     1_195.97       1.0000     0.000005        19.49
IVF-nl273-np23 (query)                                   910.62       423.98     1_334.61       1.0000     0.000000        19.49
IVF-nl273 (self)                                         910.62     4_068.65     4_979.27       1.0000     0.000000        19.49
IVF-nl387-np19 (query)                                 1_260.47       241.02     1_501.49       0.9999     0.000014        19.51
IVF-nl387-np27 (query)                                 1_260.47       329.06     1_589.53       1.0000     0.000000        19.51
IVF-nl387 (self)                                       1_260.47     3_283.06     4_543.54       1.0000     0.000000        19.51
IVF-nl547-np23 (query)                                 1_788.14       218.34     2_006.48       0.9999     0.000020        19.53
IVF-nl547-np27 (query)                                 1_788.14       247.92     2_036.06       1.0000     0.000009        19.53
IVF-nl547-np33 (query)                                 1_788.14       293.07     2_081.21       1.0000     0.000000        19.53
IVF-nl547 (self)                                       1_788.14     2_906.02     4_694.16       1.0000     0.000003        19.53
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>IVF - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.20     1_648.06     1_651.26       1.0000     0.000000        18.31
Exhaustive (self)                                          3.20    16_718.11    16_721.31       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
IVF-nl273-np13 (query)                                   903.57       241.70     1_145.27       1.0000     0.000014        19.49
IVF-nl273-np16 (query)                                   903.57       277.64     1_181.21       1.0000     0.000000        19.49
IVF-nl273-np23 (query)                                   903.57       380.98     1_284.55       1.0000     0.000000        19.49
IVF-nl273 (self)                                         903.57     3_777.61     4_681.18       1.0000     0.000000        19.49
IVF-nl387-np19 (query)                                 1_266.02       237.92     1_503.94       1.0000     0.000000        19.51
IVF-nl387-np27 (query)                                 1_266.02       332.76     1_598.78       1.0000     0.000000        19.51
IVF-nl387 (self)                                       1_266.02     3_220.87     4_486.89       1.0000     0.000000        19.51
IVF-nl547-np23 (query)                                 1_767.53       214.33     1_981.86       1.0000     0.000000        19.53
IVF-nl547-np27 (query)                                 1_767.53       244.54     2_012.07       1.0000     0.000000        19.53
IVF-nl547-np33 (query)                                 1_767.53       290.26     2_057.79       1.0000     0.000000        19.53
IVF-nl547 (self)                                       1_767.53     2_885.53     4_653.06       1.0000     0.000000        19.53
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

### LSH

Locality sensitive hashing. Can be a very fast index, but with increasing
tables, the memory fingerprint does increase.

**Key parameters:**

- *Number of tables (nt)*: The number of independent hash tables to generate. 
  More tables improve recall at the cost of query time and memory.
- *Number of bits (nb)*: The bit resolution of the hash functions. Higher values 
  create finer partitions but may reduce collision rates.
- *Max candidates (s)*: The search budget limiting the number of candidates 
  examined. Set to 'auto' for full search or a fixed value (e.g., 5k) for faster 
  queries with lower recall.

<details>
<summary><b>LSH - Euclidean (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.18     1_626.91     1_630.08       1.0000     0.000000        18.31
Exhaustive (self)                                          3.18    16_565.98    16_569.16       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
LSH-nt10-nb8-s:auto (query)                               58.34       612.49       670.83       0.9880     0.150786        34.90
LSH-nt10-nb8-s:5k (query)                                 58.34       292.78       351.13       0.8853     0.682000        34.90
LSH-nt10-nb8 (self)                                       58.34     6_430.55     6_488.89       0.9879     0.148408        34.90
LSH-nt20-nb8-s:auto (query)                              106.14       918.82     1_024.96       0.9990     0.011816        51.65
LSH-nt20-nb8-s:5k (query)                                106.14       297.46       403.60       0.8866     0.657057        51.65
LSH-nt20-nb8 (self)                                      106.14     9_223.26     9_329.40       0.9990     0.010957        51.65
LSH-nt25-nb8-s:auto (query)                              135.16     1_042.18     1_177.34       0.9997     0.003853        59.86
LSH-nt25-nb8-s:5k (query)                                135.16       301.67       436.83       0.8866     0.657057        59.86
LSH-nt25-nb8 (self)                                      135.16    10_717.26    10_852.42       0.9996     0.003632        59.86
LSH-nt10-nb10-s:auto (query)                              73.74       471.48       545.22       0.9699     0.414554        35.55
LSH-nt10-nb10-s:5k (query)                                73.74       260.94       334.68       0.8848     0.679656        35.55
LSH-nt10-nb10 (self)                                      73.74     4_762.24     4_835.98       0.9700     0.407188        35.55
LSH-nt20-nb10-s:auto (query)                             138.96       667.87       806.83       0.9951     0.060176        52.62
LSH-nt20-nb10-s:5k (query)                               138.96       286.50       425.47       0.8992     0.425955        52.62
LSH-nt20-nb10 (self)                                     138.96     6_753.44     6_892.40       0.9949     0.061070        52.62
LSH-nt25-nb10-s:auto (query)                             170.56       752.31       922.87       0.9974     0.030311        61.37
LSH-nt25-nb10-s:5k (query)                               170.56       276.99       447.55       0.8997     0.417316        61.37
LSH-nt25-nb10 (self)                                     170.56     7_584.44     7_755.00       0.9973     0.031546        61.37
LSH-nt10-nb12-s:auto (query)                              92.99       388.33       481.32       0.9411     0.804150        36.34
LSH-nt10-nb12-s:5k (query)                                92.99       246.49       339.48       0.8786     0.967038        36.34
LSH-nt10-nb12 (self)                                      92.99     3_935.73     4_028.72       0.9420     0.793338        36.34
LSH-nt20-nb12-s:auto (query)                             170.85       572.27       743.11       0.9844     0.197321        54.65
LSH-nt20-nb12-s:5k (query)                               170.85       278.48       449.33       0.9095     0.422210        54.65
LSH-nt20-nb12 (self)                                     170.85     5_522.19     5_693.04       0.9842     0.200060        54.65
LSH-nt25-nb12-s:auto (query)                             206.21       629.98       836.19       0.9906     0.118465        63.59
LSH-nt25-nb12-s:5k (query)                               206.21       270.88       477.09       0.9133     0.361454        63.59
LSH-nt25-nb12 (self)                                     206.21     6_218.74     6_424.94       0.9903     0.122014        63.59
LSH-nt10-nb16-s:auto (query)                             112.13       284.47       396.60       0.8498     2.429547        39.68
LSH-nt10-nb16-s:5k (query)                               112.13       203.93       316.06       0.8060     2.509321        39.68
LSH-nt10-nb16 (self)                                     112.13     2_869.70     2_981.83       0.8527     2.402690        39.68
LSH-nt20-nb16-s:auto (query)                             208.88       438.62       647.50       0.9416     0.933309        60.83
LSH-nt20-nb16-s:5k (query)                               208.88       237.06       445.94       0.8775     1.076314        60.83
LSH-nt20-nb16 (self)                                     208.88     4_396.18     4_605.06       0.9422     0.931024        60.83
LSH-nt25-nb16-s:auto (query)                             274.24       486.72       760.96       0.9589     0.613957        71.67
LSH-nt25-nb16-s:5k (query)                               274.24       246.95       521.18       0.8914     0.770405        71.67
LSH-nt25-nb16 (self)                                     274.24     4_907.58     5_181.82       0.9588     0.626807        71.67
LSH-nt50-nb16-s:auto (query)                             518.83       713.82     1_232.66       0.9856     0.188848       125.67
LSH-nt50-nb16-s:5k (query)                               518.83       265.60       784.43       0.9138     0.365119       125.67
LSH-nt50-nb16 (self)                                     518.83     7_218.36     7_737.20       0.9856     0.191776       125.67
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>LSH - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         4.24     1_794.03     1_798.27       1.0000     0.000000        18.88
Exhaustive (self)                                          4.24    18_586.80    18_591.04       1.0000     0.000000        18.88
--------------------------------------------------------------------------------------------------------------------------------
LSH-nt10-nb8-s:auto (query)                               40.15       770.86       811.00       0.9942     0.000049        35.39
LSH-nt10-nb8-s:5k (query)                                 40.15       316.03       356.18       0.8717     0.000877        35.39
LSH-nt10-nb8 (self)                                       40.15     8_534.33     8_574.47       0.9945     0.000045        35.39
LSH-nt20-nb8-s:auto (query)                               60.42     1_366.43     1_426.85       0.9997     0.000002        52.15
LSH-nt20-nb8-s:5k (query)                                 60.42       329.69       390.11       0.8719     0.000875        52.15
LSH-nt20-nb8 (self)                                       60.42    13_381.14    13_441.56       0.9998     0.000002        52.15
LSH-nt25-nb8-s:auto (query)                               72.95     1_520.84     1_593.78       0.9999     0.000001        60.44
LSH-nt25-nb8-s:5k (query)                                 72.95       301.81       374.75       0.8719     0.000875        60.44
LSH-nt25-nb8 (self)                                       72.95    15_633.29    15_706.24       0.9999     0.000000        60.44
LSH-nt10-nb10-s:auto (query)                              39.49       543.88       583.37       0.9806     0.000171        35.60
LSH-nt10-nb10-s:5k (query)                                39.49       288.14       327.63       0.8911     0.000557        35.60
LSH-nt10-nb10 (self)                                      39.49     5_392.41     5_431.91       0.9808     0.000167        35.60
LSH-nt20-nb10-s:auto (query)                              71.40       833.66       905.05       0.9983     0.000015        52.16
LSH-nt20-nb10-s:5k (query)                                71.40       292.00       363.40       0.8971     0.000485        52.16
LSH-nt20-nb10 (self)                                      71.40     8_411.79     8_483.18       0.9981     0.000015        52.16
LSH-nt25-nb10-s:auto (query)                              86.14       927.85     1_013.99       0.9993     0.000006        60.48
LSH-nt25-nb10-s:5k (query)                                86.14       300.33       386.47       0.8972     0.000484        60.48
LSH-nt25-nb10 (self)                                      86.14     9_762.11     9_848.25       0.9992     0.000006        60.48
LSH-nt10-nb12-s:auto (query)                              57.28       476.27       533.55       0.9611     0.000315        36.15
LSH-nt10-nb12-s:5k (query)                                57.28       292.46       349.73       0.9018     0.000467        36.15
LSH-nt10-nb12 (self)                                      57.28     4_717.98     4_775.26       0.9610     0.000310        36.15
LSH-nt20-nb12-s:auto (query)                              92.74       669.50       762.25       0.9922     0.000067        53.47
LSH-nt20-nb12-s:5k (query)                                92.74       307.55       400.29       0.9170     0.000288        53.47
LSH-nt20-nb12 (self)                                      92.74     6_280.34     6_373.08       0.9921     0.000067        53.47
LSH-nt25-nb12-s:auto (query)                             106.31       693.96       800.26       0.9961     0.000032        62.17
LSH-nt25-nb12-s:5k (query)                               106.31       280.16       386.46       0.9188     0.000267        62.17
LSH-nt25-nb12 (self)                                     106.31     6_960.05     7_066.36       0.9961     0.000032        62.17
LSH-nt10-nb16-s:auto (query)                              60.68       315.36       376.04       0.9026     0.001020        37.78
LSH-nt10-nb16-s:5k (query)                                60.68       213.08       273.76       0.8499     0.001106        37.78
LSH-nt10-nb16 (self)                                      60.68     3_192.18     3_252.86       0.9040     0.000995        37.78
LSH-nt20-nb16-s:auto (query)                             108.44       493.05       601.48       0.9637     0.000366        57.16
LSH-nt20-nb16-s:5k (query)                               108.44       235.13       343.56       0.8909     0.000507        57.16
LSH-nt20-nb16 (self)                                     108.44     4_697.10     4_805.53       0.9641     0.000362        57.16
LSH-nt25-nb16-s:auto (query)                             133.51       513.84       647.35       0.9750     0.000244        66.61
LSH-nt25-nb16-s:5k (query)                               133.51       235.39       368.90       0.9002     0.000391        66.61
LSH-nt25-nb16 (self)                                     133.51     5_238.49     5_372.00       0.9748     0.000247        66.61
LSH-nt50-nb16-s:auto (query)                             257.22       760.26     1_017.48       0.9948     0.000043       114.52
LSH-nt50-nb16-s:5k (query)                               257.22       254.68       511.91       0.9167     0.000208       114.52
LSH-nt50-nb16 (self)                                     257.22     7_711.17     7_968.39       0.9947     0.000043       114.52
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>LSH - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.19     1_792.02     1_795.21       1.0000     0.000000        18.31
Exhaustive (self)                                          3.19    18_055.42    18_058.61       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
LSH-nt10-nb8-s:auto (query)                               68.14       811.88       880.03       1.0000     0.000000        34.97
LSH-nt10-nb8-s:5k (query)                                 68.14       356.56       424.71       0.9559     0.026591        34.97
LSH-nt10-nb8 (self)                                       68.14     8_127.02     8_195.16       1.0000     0.000000        34.97
LSH-nt20-nb8-s:auto (query)                              112.94     1_340.77     1_453.71       1.0000     0.000000        51.56
LSH-nt20-nb8-s:5k (query)                                112.94       369.57       482.51       0.9559     0.026591        51.56
LSH-nt20-nb8 (self)                                      112.94    13_842.85    13_955.79       1.0000     0.000000        51.56
LSH-nt25-nb8-s:auto (query)                              135.16     1_530.27     1_665.44       1.0000     0.000000        60.01
LSH-nt25-nb8-s:5k (query)                                135.16       365.40       500.57       0.9559     0.026591        60.01
LSH-nt25-nb8 (self)                                      135.16    15_351.47    15_486.64       1.0000     0.000000        60.01
LSH-nt10-nb10-s:auto (query)                              74.18       690.57       764.76       1.0000     0.000000        34.90
LSH-nt10-nb10-s:5k (query)                                74.18       343.61       417.79       0.9752     0.016353        34.90
LSH-nt10-nb10 (self)                                      74.18     6_875.45     6_949.63       1.0000     0.000000        34.90
LSH-nt20-nb10-s:auto (query)                             137.35       985.40     1_122.75       1.0000     0.000000        51.80
LSH-nt20-nb10-s:5k (query)                               137.35       360.65       498.01       0.9752     0.016353        51.80
LSH-nt20-nb10 (self)                                     137.35     9_997.99    10_135.34       1.0000     0.000000        51.80
LSH-nt25-nb10-s:auto (query)                             168.53     1_148.93     1_317.46       1.0000     0.000000        60.28
LSH-nt25-nb10-s:5k (query)                               168.53       351.13       519.66       0.9752     0.016353        60.28
LSH-nt25-nb10 (self)                                     168.53    11_575.71    11_744.24       1.0000     0.000000        60.28
LSH-nt10-nb12-s:auto (query)                              88.82       669.30       758.12       1.0000     0.000000        35.16
LSH-nt10-nb12-s:5k (query)                                88.82       333.21       422.02       0.9635     0.019083        35.16
LSH-nt10-nb12 (self)                                      88.82     6_706.91     6_795.73       1.0000     0.000000        35.16
LSH-nt20-nb12-s:auto (query)                             185.18       946.31     1_131.49       1.0000     0.000000        51.78
LSH-nt20-nb12-s:5k (query)                               185.18       336.77       521.95       0.9635     0.019083        51.78
LSH-nt20-nb12 (self)                                     185.18     9_596.00     9_781.19       1.0000     0.000000        51.78
LSH-nt25-nb12-s:auto (query)                             203.77     1_104.45     1_308.22       1.0000     0.000000        59.90
LSH-nt25-nb12-s:5k (query)                               203.77       343.27       547.03       0.9635     0.019083        59.90
LSH-nt25-nb12 (self)                                     203.77    11_124.90    11_328.67       1.0000     0.000000        59.90
LSH-nt10-nb16-s:auto (query)                             112.48       614.64       727.12       1.0000     0.000017        35.10
LSH-nt10-nb16-s:5k (query)                               112.48       323.33       435.81       0.9574     0.022911        35.10
LSH-nt10-nb16 (self)                                     112.48     6_230.80     6_343.28       1.0000     0.000013        35.10
LSH-nt20-nb16-s:auto (query)                             210.86       873.88     1_084.74       1.0000     0.000000        51.80
LSH-nt20-nb16-s:5k (query)                               210.86       311.77       522.64       0.9574     0.022911        51.80
LSH-nt20-nb16 (self)                                     210.86     8_671.55     8_882.42       1.0000     0.000000        51.80
LSH-nt25-nb16-s:auto (query)                             273.88       977.34     1_251.23       1.0000     0.000000        60.12
LSH-nt25-nb16-s:5k (query)                               273.88       311.94       585.83       0.9574     0.022911        60.12
LSH-nt25-nb16 (self)                                     273.88     9_807.83    10_081.72       1.0000     0.000000        60.12
LSH-nt50-nb16-s:auto (query)                             493.13     1_556.46     2_049.59       1.0000     0.000000       101.94
LSH-nt50-nb16-s:5k (query)                               493.13       377.97       871.10       0.9574     0.022911       101.94
LSH-nt50-nb16 (self)                                     493.13    15_452.87    15_946.00       1.0000     0.000000       101.94
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>LSH - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.26     1_708.08     1_711.35       1.0000     0.000000        18.31
Exhaustive (self)                                          3.26    17_182.33    17_185.59       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
LSH-nt10-nb8-s:auto (query)                               58.41     1_102.72     1_161.14       1.0000     0.000000        34.65
LSH-nt10-nb8-s:5k (query)                                 58.41       340.56       398.97       0.9900     1.045677        34.65
LSH-nt10-nb8 (self)                                       58.41    11_166.37    11_224.78       1.0000     0.000000        34.65
LSH-nt20-nb8-s:auto (query)                              106.80     1_637.72     1_744.52       1.0000     0.000000        50.96
LSH-nt20-nb8-s:5k (query)                                106.80       329.22       436.02       0.9900     1.045677        50.96
LSH-nt20-nb8 (self)                                      106.80    16_611.33    16_718.13       1.0000     0.000000        50.96
LSH-nt25-nb8-s:auto (query)                              134.19     1_894.10     2_028.29       1.0000     0.000000        59.08
LSH-nt25-nb8-s:5k (query)                                134.19       341.65       475.84       0.9900     1.045677        59.08
LSH-nt25-nb8 (self)                                      134.19    18_918.51    19_052.70       1.0000     0.000000        59.08
LSH-nt10-nb10-s:auto (query)                              76.46       735.08       811.54       1.0000     0.000000        34.75
LSH-nt10-nb10-s:5k (query)                                76.46       311.33       387.80       0.9919     0.016708        34.75
LSH-nt10-nb10 (self)                                      76.46     7_861.16     7_937.62       1.0000     0.000000        34.75
LSH-nt20-nb10-s:auto (query)                             130.11     1_275.32     1_405.44       1.0000     0.000000        51.18
LSH-nt20-nb10-s:5k (query)                               130.11       304.75       434.86       0.9919     0.016708        51.18
LSH-nt20-nb10 (self)                                     130.11    12_908.04    13_038.15       1.0000     0.000000        51.18
LSH-nt25-nb10-s:auto (query)                             168.61     1_508.66     1_677.26       1.0000     0.000000        59.42
LSH-nt25-nb10-s:5k (query)                               168.61       308.64       477.24       0.9919     0.016708        59.42
LSH-nt25-nb10 (self)                                     168.61    15_335.70    15_504.31       1.0000     0.000000        59.42
LSH-nt10-nb12-s:auto (query)                              77.49       581.80       659.29       1.0000     0.000000        34.74
LSH-nt10-nb12-s:5k (query)                                77.49       305.90       383.39       0.9925     0.014356        34.74
LSH-nt10-nb12 (self)                                      77.49     5_865.63     5_943.13       1.0000     0.000000        34.74
LSH-nt20-nb12-s:auto (query)                             154.75     1_025.07     1_179.82       1.0000     0.000000        51.12
LSH-nt20-nb12-s:5k (query)                               154.75       313.65       468.40       0.9925     0.014356        51.12
LSH-nt20-nb12 (self)                                     154.75    10_570.20    10_724.95       1.0000     0.000000        51.12
LSH-nt25-nb12-s:auto (query)                             200.90     1_189.23     1_390.14       1.0000     0.000000        59.30
LSH-nt25-nb12-s:5k (query)                               200.90       314.62       515.52       0.9925     0.014356        59.30
LSH-nt25-nb12 (self)                                     200.90    12_294.10    12_495.00       1.0000     0.000000        59.30
LSH-nt10-nb16-s:auto (query)                             108.51       606.22       714.74       1.0000     0.000000        34.92
LSH-nt10-nb16-s:5k (query)                               108.51       314.12       422.63       0.9896     0.019635        34.92
LSH-nt10-nb16 (self)                                     108.51     5_876.32     5_984.83       1.0000     0.000000        34.92
LSH-nt20-nb16-s:auto (query)                             205.00       897.11     1_102.11       1.0000     0.000000        51.67
LSH-nt20-nb16-s:5k (query)                               205.00       318.11       523.11       0.9896     0.019635        51.67
LSH-nt20-nb16 (self)                                     205.00     8_626.15     8_831.15       1.0000     0.000000        51.67
LSH-nt25-nb16-s:auto (query)                             265.61       989.08     1_254.69       1.0000     0.000000        60.09
LSH-nt25-nb16-s:5k (query)                               265.61       323.43       589.05       0.9896     0.019635        60.09
LSH-nt25-nb16 (self)                                     265.61     9_839.14    10_104.75       1.0000     0.000000        60.09
LSH-nt50-nb16-s:auto (query)                             511.47     1_624.88     2_136.34       1.0000     0.000000       101.98
LSH-nt50-nb16-s:5k (query)                               511.47       322.25       833.71       0.9896     0.019635       101.98
LSH-nt50-nb16 (self)                                     511.47    16_183.82    16_695.29       1.0000     0.000000       101.98
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

### NNDescent

The NNDescent implementation in this crate, heavily inspired by the amazing
[PyNNDescent](https://github.com/lmcinnes/pynndescent), shows a very good
compromise between index building and fast querying. It's a great arounder
that reaches easily performance of 0.98 Recalls@k neighbours. You can even
heavily short cut the initialisation of the index with only 12 trees (instead
of 32) and get in 4 seconds to a recall 0.9 (compared to 48 seconds for 
exhaustive search)!

**Key parameters:**

- *Number of trees (nt)*: Number of trees to use for the initialisation. If set
  to auto, it defaults to 32.
- *Search budget (s)*: The search budget for the exploration of the graph during
  querying. Here it defaults to `k * 2` (with min 60, maximum 200).
- *Diversify probability (dp)*: This is based on the original papers leveraging
  NNDescent and it is supposed to remove redundant edges from the graph to
  increase query speed.

<details>
<summary><b>NNDescent - Euclidean (Gaussian)</b>:</summary>
</br>
<pre><code>
===========================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.28     1_530.64     1_533.92       1.0000     0.000000        18.31
Exhaustive (self)                                          3.28    15_720.95    15_724.23       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
NNDescent-nt12-s:auto-dp0 (query)                      1_646.62        84.37     1_730.99       0.9689     0.102828       139.69
NNDescent-nt12-dp0 (self)                              1_646.62       826.00     2_472.62       0.9684     0.099935       139.69
NNDescent-nt24-s:auto-dp0 (query)                      2_281.03        83.38     2_364.41       0.9887     0.032393       170.66
NNDescent-nt24-dp0 (self)                              2_281.03       809.46     3_090.50       0.9886     0.031472       170.66
NNDescent-nt:auto-s75-dp0 (query)                      2_433.33       117.58     2_550.92       0.9942     0.016358       170.78
NNDescent-nt:auto-s100-dp0 (query)                     2_433.33       151.52     2_584.85       0.9962     0.010879       170.78
NNDescent-nt:auto-s:auto-dp0 (query)                   2_433.33        82.45     2_515.78       0.9895     0.029672       170.78
NNDescent-nt:auto-dp0 (self)                           2_433.33       796.01     3_229.34       0.9894     0.029051       170.78
NNDescent-nt:auto-s:auto-dp0.25 (query)                2_428.77        84.30     2_513.07       0.9895     0.029672       175.36
NNDescent-nt:auto-dp0.25 (self)                        2_428.77       821.59     3_250.36       0.9894     0.029051       175.36
NNDescent-nt:auto-s:auto-dp0.5 (query)                 2_440.07        84.36     2_524.43       0.9895     0.029672       175.36
NNDescent-nt:auto-dp0.5 (self)                         2_440.07       811.96     3_252.04       0.9894     0.029051       175.36
NNDescent-nt:auto-s:auto-dp1 (query)                   2_423.22        84.97     2_508.20       0.9895     0.029672       175.36
NNDescent-nt:auto-dp1 (self)                           2_423.22       825.80     3_249.02       0.9894     0.029051       175.36
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>NNDescent - Cosine (Gaussian)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         4.58     1_504.18     1_508.76       1.0000     0.000000        18.88
Exhaustive (self)                                          4.58    15_906.03    15_910.60       1.0000     0.000000        18.88
--------------------------------------------------------------------------------------------------------------------------------
NNDescent-nt12-s:auto-dp0 (query)                      5_349.46        83.42     5_432.88       0.9995     0.000002       137.58
NNDescent-nt12-dp0 (self)                              5_349.46       803.89     6_153.35       0.9997     0.000001       137.58
NNDescent-nt24-s:auto-dp0 (query)                      5_202.48        82.98     5_285.47       0.9997     0.000001       165.29
NNDescent-nt24-dp0 (self)                              5_202.48       803.94     6_006.43       0.9998     0.000000       165.29
NNDescent-nt:auto-s75-dp0 (query)                      5_157.67       117.39     5_275.06       0.9998     0.000000       165.41
NNDescent-nt:auto-s100-dp0 (query)                     5_157.67       151.96     5_309.63       0.9999     0.000000       165.41
NNDescent-nt:auto-s:auto-dp0 (query)                   5_157.67        83.89     5_241.55       0.9997     0.000001       165.41
NNDescent-nt:auto-dp0 (self)                           5_157.67       783.31     5_940.98       0.9998     0.000000       165.41
NNDescent-nt:auto-s:auto-dp0.25 (query)                5_236.34        77.98     5_314.32       0.9894     0.000018       157.96
NNDescent-nt:auto-dp0.25 (self)                        5_236.34       758.25     5_994.59       0.9897     0.000017       157.96
NNDescent-nt:auto-s:auto-dp0.5 (query)                 5_283.33        73.89     5_357.22       0.9806     0.000036       143.58
NNDescent-nt:auto-dp0.5 (self)                         5_283.33       702.12     5_985.45       0.9805     0.000035       143.58
NNDescent-nt:auto-s:auto-dp1 (query)                   5_212.11        69.72     5_281.84       0.9602     0.000080       129.42
NNDescent-nt:auto-dp1 (self)                           5_212.11       671.56     5_883.68       0.9609     0.000078       129.42
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>NNDescent - Euclidean (Correlated)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.14     1_598.38     1_601.53       1.0000     0.000000        18.31
Exhaustive (self)                                          3.14    16_924.54    16_927.68       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
NNDescent-nt12-s:auto-dp0 (query)                      2_585.55        71.72     2_657.27       0.9991     0.000190       139.18
NNDescent-nt12-dp0 (self)                              2_585.55       743.44     3_328.99       0.9993     0.000172       139.18
NNDescent-nt24-s:auto-dp0 (query)                      3_152.76        73.95     3_226.71       0.9997     0.000025       169.65
NNDescent-nt24-dp0 (self)                              3_152.76       710.05     3_862.80       0.9999     0.000024       169.65
NNDescent-nt:auto-s75-dp0 (query)                      3_248.30        99.88     3_348.17       0.9999     0.000008       169.78
NNDescent-nt:auto-s100-dp0 (query)                     3_248.30       128.35     3_376.65       0.9999     0.000005       169.78
NNDescent-nt:auto-s:auto-dp0 (query)                   3_248.30        72.35     3_320.64       0.9997     0.000021       169.78
NNDescent-nt:auto-dp0 (self)                           3_248.30       710.65     3_958.94       0.9999     0.000023       169.78
NNDescent-nt:auto-s:auto-dp0.25 (query)                3_218.74        70.40     3_289.14       0.9995     0.000036       172.51
NNDescent-nt:auto-dp0.25 (self)                        3_218.74       698.70     3_917.44       0.9997     0.000034       172.51
NNDescent-nt:auto-s:auto-dp0.5 (query)                 3_192.71        68.03     3_260.74       0.9991     0.000054       168.70
NNDescent-nt:auto-dp0.5 (self)                         3_192.71       725.71     3_918.43       0.9994     0.000055       168.70
NNDescent-nt:auto-s:auto-dp1 (query)                   3_357.27        65.99     3_423.26       0.9973     0.000203       164.47
NNDescent-nt:auto-dp1 (self)                           3_357.27       640.80     3_998.07       0.9976     0.000195       164.47
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

---

<details>
<summary><b>NNDescent - Euclidean (LowRank)</b>:</summary>
</br>
<pre><code>
================================================================================================================================
Benchmark: 150k cells, 32D
================================================================================================================================
Method                                               Build (ms)   Query (ms)   Total (ms)     Recall@k   Dist Error    Size (MB)
--------------------------------------------------------------------------------------------------------------------------------
Exhaustive (query)                                         3.36     1_621.47     1_624.83       1.0000     0.000000        18.31
Exhaustive (self)                                          3.36    17_180.12    17_183.48       1.0000     0.000000        18.31
--------------------------------------------------------------------------------------------------------------------------------
NNDescent-nt12-s:auto-dp0 (query)                      1_534.80        70.95     1_605.75       0.9996     0.000390       137.18
NNDescent-nt12-dp0 (self)                              1_534.80       720.45     2_255.24       0.9996     0.000337       137.18
NNDescent-nt24-s:auto-dp0 (query)                      2_081.08        78.23     2_159.31       1.0000     0.000029       165.65
NNDescent-nt24-dp0 (self)                              2_081.08       744.27     2_825.35       1.0000     0.000033       165.65
NNDescent-nt:auto-s75-dp0 (query)                      2_186.44        96.88     2_283.32       1.0000     0.000011       165.77
NNDescent-nt:auto-s100-dp0 (query)                     2_186.44       123.66     2_310.09       1.0000     0.000003       165.77
NNDescent-nt:auto-s:auto-dp0 (query)                   2_186.44        73.83     2_260.26       1.0000     0.000021       165.77
NNDescent-nt:auto-dp0 (self)                           2_186.44       680.36     2_866.80       1.0000     0.000026       165.77
NNDescent-nt:auto-s:auto-dp0.25 (query)                2_160.97        70.03     2_231.00       1.0000     0.000021       170.35
NNDescent-nt:auto-dp0.25 (self)                        2_160.97       698.84     2_859.81       1.0000     0.000026       170.35
NNDescent-nt:auto-s:auto-dp0.5 (query)                 2_139.46        71.38     2_210.84       1.0000     0.000021       170.35
NNDescent-nt:auto-dp0.5 (self)                         2_139.46       673.27     2_812.73       1.0000     0.000026       170.35
NNDescent-nt:auto-s:auto-dp1 (query)                   2_267.89        76.28     2_344.17       1.0000     0.000021       170.35
NNDescent-nt:auto-dp1 (self)                           2_267.89       747.38     3_015.27       1.0000     0.000026       170.35
--------------------------------------------------------------------------------------------------------------------------------
</code></pre>
</details>

*All benchmarks were run on M1 Max MacBook Pro with 64 GB unified memory.*